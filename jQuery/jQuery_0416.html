<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        header ul{
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 0;
            color: blue;
            gap: 0 30px;
        }
        header{
            background-color: #fff;
            position: fixed;
            width: 100%;
        }
        .background-on{
            background-color: aquamarine;
        }
        ul{
            list-style: none;
        }
        a{
            text-decoration: none;
        }
        section{
            height: 100vh;
        }
        #sec01{
            background-color: antiquewhite;
        }
        #sec02{
            background-color: brown;
        }
        #sec03{
            background-color: skyblue;
        }
        #sec04{
            background-color: khaki;
        }
        #sec05{
            background-color: chocolate;
        }

        /* background color */
        .bg-sec01{
            background-color: blueviolet;
        }
        .bg-sec02{
            background-color: rosybrown;
        }
        .bg-sec03{
            background-color: wheat;
        }
        .bg-sec04{
            background-color: plum;
        }
        .bg-sec05{
            background-color: lawngreen;
        }

    </style>
</head>
<body>
    <header>
        <ul>
            <li><a href="#sec01">sec01</a></li>
            <li><a href="#sec02">sec02</a></li>
            <li><a href="#sec03">sec03</a></li>
            <li><a href="#sec04">sec04</a></li>
            <li><a href="#sec05">sec05</a></li>
        </ul>
    </header>
    <section id="sec01"></section>
    <section id="sec02"></section>
    <section id="sec03"></section>
    <section id="sec04"></section>
    <section id="sec05"></section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        const bgclasses = ['bg-sec01 bg-sec02 bg-sec03 bg-sec04 bg-sec05'];
        window.addEventListener('scroll', ()=>{
            const scrollY = window.scrollY;

            header.classList.remove(...bgclasses);
            sections.forEach((section, index)=>{
                const top = section.offsetTop;
                const bottom = top + section.offsetHeight;

                if(scrollY >= top && scroll < bottom){
                    header.classList.add(bgclasses[index]);
                }
            })
        })

        // $(window).scroll(function(){
        //     // 화면에서 스크롤 하면~
        //     let height = $(document).scrollTop();
        //     // 문서에서 .scrollTop() 높이 값 
        //     if(height > 0){
        //         $('header').css('background-color', 'red');
        //     } else if(height == 0){
        //         $('header').css('background-color', '#fff');
        //     }
        // })
        const sections = ['sec01', 'sec02', 'sec03', 'sec04', 'sec05'];
        $(window).on('scroll', function(){
            let scroll = $(window).scrollTop();
            let header = $('header');

            header.removeClass('bg-sec01 bg-sec02 bg-sec03 bg-sec04 bg-sec05');
            console.log('현재 스크롤 위치', scroll);
            const sec01Top = $('#sec01').offset().top;
            const sec02Top = $('#sec02').offset().top;
            const sec03Top = $('#sec03').offset().top;
            const sec04Top = $('#sec04').offset().top;
            const sec05Top = $('#sec05').offset().top;
            if(scroll >= sec01Top && scroll < sec02Top){
                header.addClass('bg-sec01');
            } else if(scroll >= sec02Top && scroll < sec03Top){
                header.addClass('bg-sec02')
            } else if(scroll >= sec03Top && scroll < sec04Top){
                header.addClass('bg-sec03')
            } else if(scroll >= sec04Top && scroll < sec05Top){
                header.addClass('bg-sec04')
            } else if(scroll >= sec05Top){
                header.addClass('bg-sec05')
            }
            // for(let i = 0; i < sections.length; i++){
            //     const id = sections[i];
            //     const sectionTop = $('#'+id).offset().top;
            //     //#sec01 << 너의 위치 중 높은 값은?

            //     if(scroll >= sectionTop - 100){
            //         header.removeClass();
            //         header.addClass('bg-'+id);
            //     }
            // }
        })
    </script>
</body>
</html>